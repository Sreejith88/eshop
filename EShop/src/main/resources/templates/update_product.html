<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1" />

<link rel="stylesheet" type="text/css"
	th:href="@{/webjars/bootstrap/4.5.0/css/bootstrap.min.css}" />
<link rel="stylesheet" type="text/css" th:href="@{/css/styles.css}">
<title>Update Product</title>
</head>
<body style="padding-top: 70px;">
	<div th:insert="/navbar :: navbar"></div>
	<div class="container py-5">
		<div class="row justify-content-center align-items-center">
			<div class="col-lg-10 list-group-item">
				<h2>Update Product</h2>

				<form action="#" th:action="@{/saveProduct?update=true}" th:object="${product}"
					enctype="multipart/form-data" method="POST">
					<input type="hidden" th:field="*{id}" />
					<input type="hidden" th:field="*{productImagePath}" /> 
					<input type="hidden" th:field="*{createdBy}" />  
					<input type="hidden" th:field="*{createdAt}" />
					<input type="text"
						th:field="*{productName}" placeholder="Product Name"
						class="form-control mb-4 col-8">
					<p class="text-danger"
						th:each="error: ${#fields.errors('productName')}"
						th:text="${error}">Validation error</p>
					<input type="text"
						th:field="*{productDesc}" placeholder="Product Description"
						class="form-control mb-4 col-8">
					<p class="text-danger"
						th:each="error: ${#fields.errors('productDesc')}"
						th:text="${error}">Validation error</p>
					<input type="text"
						th:field="*{listPrice}" placeholder="Product List Price"
						class="form-control mb-4 col-8">
					<p class="text-danger"
						th:each="error: ${#fields.errors('listPrice')}" th:text="${error}">Validation
						error</p>
					<input type="text"
						th:field="*{sellPrice}" placeholder="Product Sell Price"
						class="form-control mb-4 col-8">
					<p class="text-danger"
						th:each="error: ${#fields.errors('sellPrice')}" th:text="${error}">Validation
						error</p>
					<input type="file"
						name="file" placeholder="File to upload"
						class="form-control mb-4 col-8" accept="image/*" width="200"
						height="100">

					<button type="submit" class="btn btn-info col-2">Update
						Product</button>
				</form>

				<hr>

				<a th:href="@{/getAllProducts}"> Back to Product List</a>
			</div>
		</div>
	</div>
	<script type="text/javascript"
		th:src="@{/webjars/jquery/3.2.1/jquery.min.js/}"></script>
	<script type="text/javascript"
		th:src="@{/webjars/bootstrap/4.5.0/js/bootstrap.min.js}"></script>
</body>
</html>